{"version":3,"sources":["./src/app/pages/outbound/packing/add-packing/add-packing.component.html","./src/app/pages/outbound/packing/add-packing/add-packing.component.ts","./src/app/pages/outbound/packing/add-packing/add-packing.module.ts"],"names":[],"mappings":"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","file":"add-packing-add-packing-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"page-header\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col d-flex\\\">\\r\\n                <h2 class=\\\"mr-auto\\\">Add Packing </h2>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"card\\\">\\r\\n        <form [formGroup]=\\\"addForm\\\" (ngSubmit)=\\\"submitForm(addForm)\\\" role=\\\"form\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div class=\\\"mb-3\\\">\\r\\n                    <div class=\\\"col-12\\\">\\r\\n                        <div class=\\\"form-group row align-items-center\\\" [ngClass]=\\\"{'has-error': formErrors.order_id}\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Select Order Number</label>\\r\\n\\r\\n                            <ng-select style=\\\"width:180px\\\" [formControl]=\\\"addForm.controls['sales_order_id']\\\"\\r\\n                                [items]=\\\"orderNumberArray\\\" (change)=\\\"onOrderChange($event)\\\" bindLabel=\\\"label\\\"\\r\\n                                bindValue=\\\"value\\\" placeholder=\\\"Select Order\\\">\\r\\n                            </ng-select>\\r\\n                            <span *ngIf=\\\"formErrors.order_id\\\" class=\\\"help-block\\\"\\r\\n                                [innerHTML]=\\\"formErrors.order_id\\\"></span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Packing Type</label>\\r\\n                            <ng-select style=\\\"width: 180px;\\\" [formControl]=\\\"addForm.controls['pack_type']\\\"\\r\\n                                placeholder=\\\"Select Packing Type\\\" [items]=\\\"packTypeArray\\\" bindLabel=\\\"label\\\"\\r\\n                                bindValue=\\\"value\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Remark</label>\\r\\n                            <input type=\\\"text\\\" style=\\\"width: 180px;\\\" [formControl]=\\\"addForm.controls['remark']\\\"\\r\\n                                class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Batch No.</label>\\r\\n                            <input type=\\\"text\\\" style=\\\"width: 180px;\\\" [formControl]=\\\"addForm.controls['batch_no']\\\"\\r\\n                                class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Serial No</label>\\r\\n                            <input type=\\\"text\\\" style=\\\"width: 180px;\\\" [formControl]=\\\"addForm.controls['serial_no']\\\"\\r\\n                                class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Cartoon No</label>\\r\\n                            <input type=\\\"text\\\" style=\\\"width: 180px;\\\" [formControl]=\\\"addForm.controls['cartoon_no']\\\"\\r\\n                                class=\\\"form-control \\\" placeholder=\\\"\\\" readonly>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row align-items-center\\\">\\r\\n                            <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Add Products</label>\\r\\n                            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addProduct()\\\">\\r\\n                                Add\\r\\n                            </button>\\r\\n                            <span *ngIf=\\\"formErrors.product\\\" class=\\\"help-block\\\" [innerHTML]=\\\"formErrors.product\\\"></span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row mt-4\\\">\\r\\n                    <div class=\\\"col-12\\\">\\r\\n                        <div *ngIf=\\\"orderDetails?.sales_order_detail\\\" class=\\\"border p-2\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-6\\\">\\r\\n                                    <h6>{{orderDetails?.sales_order_detail?.client?.label}}</h6>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-6 text-right\\\">\\r\\n                                    <div>Pallet Number: {{orderDetails?.sales_order_detail?.pallet_no}}</div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row mt-2\\\">\\r\\n                                <div class=\\\"col-md-6\\\">\\r\\n                                    <p class=\\\"mb-1\\\">Order No.\\r\\n                                        <span>{{orderDetails?.sales_order_detail?.sales_order_no}}</span></p>\\r\\n                                    <p class=\\\"mb-1\\\">Item No. <span>{{orderDetails?.sales_order_detail?.itm_no}}</span>\\r\\n                                    </p>\\r\\n                                    <p class=\\\"mb-1\\\">Description.\\r\\n                                        <span>{{orderDetails?.sales_order_detail?.description}}</span></p>\\r\\n                                </div>\\r\\n                                <div class=\\\"col-md-6 text-right\\\">\\r\\n                                    <div class=\\\"w-25 ml-auto\\\">\\r\\n                                        {{orderDetails?.sales_order_detail?.shipping_address[0].street_address}}\\r\\n\\r\\n                                        {{orderDetails?.sales_order_detail?.shipping_address[0].label}}-\\r\\n                                        {{orderDetails?.sales_order_detail?.shipping_address[0].state}}\\r\\n\\r\\n\\r\\n\\r\\n                                        {{orderDetails?.sales_order_detail?.shipping_address[0].country_name}}-\\r\\n                                        {{orderDetails?.sales_order_detail?.shipping_address[0].pin_code}}\\r\\n\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n                        <div class=\\\"mt-2\\\">\\r\\n                            <div class=\\\"table-responsive\\\">\\r\\n                                <table class=\\\"table\\\">\\r\\n                                    <thead class=\\\"thead-dark\\\">\\r\\n                                        <tr>\\r\\n                                            <th width=\\\"10%\\\">No.</th>\\r\\n                                            <th width=\\\"15%\\\">Product Code</th>\\r\\n                                            <th width=\\\"55%\\\">Product </th>\\r\\n                                            <th width=\\\"10%\\\">Tag</th>\\r\\n                                            <th width=\\\"10%\\\">Weight</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let prodLists of productDetailList; let i =index\\\">\\r\\n                                            <td>{{i + 1}}</td>\\r\\n                                            <td>{{prodLists?.product?.sku_no}}</td>\\r\\n                                            <td>{{prodLists?.product?.label}}</td>\\r\\n                                            <td>{{prodLists?.tag?.label}}</td>\\r\\n                                            <td>{{prodLists?.product?.weight}}\\r\\n                                                {{prodLists?.product?.weight_unit}}\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                        <tr *ngIf=\\\"productDetailList.length == 0\\\">\\r\\n                                            <td colspan=\\\"5\\\">No records found</td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n            <div class=\\\"text-right border-top py-4 card-footer\\\">\\r\\n                <a [routerLink]=\\\"['/outbound/packing']\\\" class=\\\"btn btn-light\\\">Cancel</a>\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-secondary ml-2\\\">Done</button></div>\\r\\n        </form>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n<app-product-list-popup [ProductList]=\\\"orderDetails?.product_list\\\" (onProductSubmit)=\\\"onProductSubmit($event)\\\">\\r\\n</app-product-list-popup>\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ProductListPopupComponent } from 'src/app/common-module/product-list-popup/product-list-popup.component';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CommonFunction } from 'src/app/common';\r\nimport { PackingService } from 'src/app/service/packing.service';\r\n\r\n@Component({\r\n  selector: 'app-add-packing',\r\n  templateUrl: './add-packing.component.html',\r\n})\r\nexport class AddPackingComponent implements OnInit {\r\n\r\n  @ViewChild(ProductListPopupComponent, { static: false }) productAdd;\r\n  orderNumberArray: any = [];\r\n  packTypeArray: any = [];\r\n  orderDetails: any;\r\n\r\n  loadingState = false;\r\n  addForm: FormGroup;\r\n  showLoader = false;\r\n  formErrors = {\r\n    apierror: null,\r\n    order_id: null,\r\n    product: null\r\n  };\r\n  isEditing = false;\r\n  editId = null;\r\n  productDetailList: any = []\r\n\r\n  constructor(\r\n    private packingService: PackingService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n  ) {\r\n    if (this.activatedRoute.snapshot.paramMap.get('id')) {\r\n      this.isEditing = true;\r\n      this.editId = this.activatedRoute.snapshot.paramMap.get('id');\r\n    }\r\n    this.addForm = this.fb.group({\r\n      sales_order_id: [null, Validators.compose([Validators.required])],\r\n      pack_type: [null, Validators.compose([Validators.required])],\r\n      remark: [null],\r\n      batch_no: [null],\r\n      serial_no: [null],\r\n      cartoon_no: [null],\r\n      product_detail_list: [],\r\n    });\r\n\r\n\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // if (this.isEditing) {\r\n    //   this.getEditObject()\r\n    // }\r\n    this.getMasterData();\r\n  }\r\n  getMasterData() {\r\n    this.packingService.getMasterData({}).subscribe((responce) => {\r\n      if (responce.success) {\r\n        this.orderNumberArray = responce.data.sales_order ? responce.data.sales_order : [];\r\n        this.packTypeArray = responce.data.pack_type ? responce.data.pack_type : [];\r\n        this.addForm.patchValue({ cartoon_no: responce.data.cartoon_no })\r\n      }\r\n    });\r\n  }\r\n\r\n  onOrderChange(data) {\r\n    if (data && data.value) {\r\n      this.getSalesOrderDetail(data.value);\r\n      this.formErrors.order_id = null;\r\n    }\r\n  }\r\n  getSalesOrderDetail(id) {\r\n    this.packingService.getSalesOrderDetail(id).subscribe((responce) => {\r\n      if (responce.success) {\r\n        this.orderDetails = responce.data;\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  addProduct() {\r\n    if (this.addForm.value.sales_order_id) {\r\n      this.productAdd.addObject();\r\n    } else {\r\n      this.formErrors.order_id = \"* Please Select Order Number\";\r\n    }\r\n  }\r\n  onProductSubmit(data) {\r\n    console.log(\"data\", data);\r\n\r\n    this.productDetailList = [];\r\n    if (data && data.length > 0) {\r\n      data.filter((obj) => {\r\n        if (obj.tag_list && obj.tag_list.length > 0) {\r\n          obj.tag_list.filter((temp, i) => {\r\n            temp['id'] = i;\r\n            this.productDetailList.push(temp)\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.productDetailList = [];\r\n    }\r\n  }\r\n  submitForm(formData: any): void {\r\n    if (formData.valid) {\r\n      if (this.productDetailList && this.productDetailList.length > 0) {\r\n        let product_detail_list = []\r\n\r\n        this.productDetailList.map((obj) => {\r\n          let object = new Object();\r\n          object['product_id'] = obj.product.value;\r\n          object['weight_unit'] = obj.product.weight_unit;\r\n          object['weight'] = obj.product.weight;\r\n          object['product_qty'] = obj.product_qty;\r\n          object['tag_id'] = obj.tag.value;\r\n          product_detail_list.push(object);\r\n        });\r\n\r\n        this.formErrors.product = null;\r\n        this.showLoader = true;\r\n        const data = new FormData();\r\n        data.append('sales_order_id', formData.value.sales_order_id);\r\n        data.append('pack_type', formData.value.pack_type);\r\n        data.append('remark', formData.value.remark);\r\n        data.append('batch_no', formData.value.batch_no);\r\n        data.append('serial_no', formData.value.serial_no);\r\n        data.append('cartoon_no', formData.value.cartoon_no);\r\n        data.append('product_detail_list', JSON.stringify(product_detail_list));\r\n        if (this.isEditing) {\r\n          this.packingService.editPacking(this.editId, data).subscribe((response) => {\r\n            this.showLoader = false;\r\n            if (response.success) {\r\n              this.router.navigateByUrl('/outbound/packing');\r\n            } else {\r\n              response.error.map(obj => {\r\n                if (obj.hasOwnProperty('sales_order_id')) {\r\n                  this.formErrors['sales_order_id'] = obj['sales_order_id'];\r\n                } else {\r\n                  this.formErrors['apierror'] = `* ${response.error}`;\r\n                }\r\n              });\r\n            }\r\n          }, (error) => {\r\n            this.showLoader = false;\r\n          });\r\n        } else {\r\n          this.packingService.addPacking(data).subscribe((response) => {\r\n            this.showLoader = false;\r\n            if (response.success) {\r\n              this.router.navigateByUrl('/outbound/packing');\r\n            } else {\r\n              response.error.map(obj => {\r\n                if (obj.hasOwnProperty('sales_order_id')) {\r\n                  this.formErrors['sales_order_id'] = obj['sales_order_id'];\r\n                } else {\r\n                  this.formErrors['apierror'] = `* ${response.error}`;\r\n                }\r\n              });\r\n            }\r\n          }, (error) => {\r\n            this.showLoader = false;\r\n          });\r\n        }\r\n      } else {\r\n        this.formErrors.product = \"* Please Add Product\";\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddPackingComponent } from './add-packing.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { PackingService } from 'src/app/service/packing.service';\r\nimport { FormValidationModule } from 'src/app/shared/form-validation/form-validation.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { ProductListPopupModule } from 'src/app/common-module/product-list-popup/product-list-popup.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddPackingComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [AddPackingComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule, ReactiveFormsModule,\r\n    FormValidationModule,\r\n    SharedModule,\r\n    NgSelectModule,\r\n    ProductListPopupModule,\r\n  ], providers: [PackingService]\r\n})\r\nexport class AddPackingModule { }\r\n"],"sourceRoot":"webpack:///"}